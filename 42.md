NIP-42
======

Private Direct Message
----------------------

`draft` `optional` `author:giszmo`

A special event with kind `42`, meaning "private direct message". It is supposed
to have the following attributes:

**`content`** MUST be the "plain content" object's JSON serialization, encrypted
using the same shared secret, random initialization vector and format as nip-04.

**`tags`** MUST be empty.

**`pubkey`** MUST be the public key corresponding to the sha256 hash of the
shared secret.

**"plain content"** MUST contain the following attributes:

  **`pubkey`** MUST be the public key of the actual sender of the event.

  **`sig`** MUST be the sender's signature using nip-1's event serialization for
  the "plain content" with `created_at` and `kind` being `0`.

  **`tags`** MUST follow the same rules as an Event's `tags`. It MAY be `[]`.
  
  **`content`** MUST follow the same rules as an Event's `content`. It MAY be
  `""`.

Test Vectors
------------

```
privKeyHex1:       aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
pubKeyHex1:        6a04ab98d9e4774ad806e302dddeb63bea16b5cb5f223ee77478e861bb583eb3
privKeyHex2:       bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
pubKeyHex2:        68680737c76dabb801cb2204f57dbe4e4579e4f710cd67dc1b4227592c81e9b5

sharedSecretHex:   1d3e7279da3f845c4246087cdd3dd42bea3dea7245ceaf75609d8eb0a4e89c4e
sharedPrivKeyHex:  7e6222654f2c8d9643334aab28f31dc1452195c6ae5a2b79d04a484d83988f7e
sharedPubKeyHex:   b21660b3eb273dcee0c39b10eb2dc068dcbdf46892937c06fa426b84bacbc145
event:             {"id":"dcbff2382fbfba5d13db7120eabe766af783775668643b6f937d72ea8ff1fba0","pubkey":"b21660b3eb273dcee0c39b10eb2dc068dcbdf46892937c06fa426b84bacbc145","created_at":1657328772,"kind":42,"tags":[],"content":"PGJTler12DYS2xJA6mgV+hJj0wRvbleVPACzr8mSNpw1ZE+jhqAyaGn2l0jcRPEJ2Lq2VUw60wjVkpjmccM9phVRrvGvAO9SmCZlSrr+eyQidrP6/IoHY9MbSuy4Y9bB9K0oqVDWj/kQSLztkDXJeHV4KOPQZEUur2mJGlOA4wY5oOACxc+5WjtXFIDNW1+tV+8HXP1PGMTN05xrsI2CBcOOCCPi/BCkTxeZ7DjVeEzwx8qVXUmrAeiWnZX96p2XD5k2hV1UFQ1Nn5RHMPclEEgqyd/ddkcmTPAMiEVF1/RgwTE4YUwpOfL8a9ksF28Rho/6OfCDFBITLW+56n7TCE1p8wgH/5af31lrFl5HxoDdUmPmKNZ1amnzxnwdS28auL7OJdOqAJFiY9VA+FU3/ung6o9cwyaUEPaKuxNJCZy/KSiEjsuSVjsWoStTml+t?iv=nJfRwJrvF+zCnc8+nnnvkQ==","sig":"62ad2bf34dbbd139220c8b03dc102f69ba81c973630270874f558d886f576bd2e807142c40246a825c722631d854558dae2b5d9ea48038a1a2354620b1db9650"}
eventPlainContent: {"pubKey":"6a04ab98d9e4774ad806e302dddeb63bea16b5cb5f223ee77478e861bb583eb3","tags":[["e","70e18ff49f86c96e2c3a99e048d27437935d7c03080aeb7dfceef818995b904a"]],"content":"Hello World!","sig":"b54c2dd83c15a284ef584848830680a2deb271395337dfcb6d6029da0fc7c91d547f9fff6805e8bc489922fa009be94fa7a4597c6ab5ed629bd20aae8ffcedb2"}
```